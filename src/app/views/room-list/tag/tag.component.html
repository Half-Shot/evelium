<!--
  ~     Evelium - A matrix client
  ~     Copyright (C)  2018 Travis Ralston
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU General Public License as published by
  ~     the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU General Public License for more details.
  ~
  ~     You should have received a copy of the GNU General Public License
  ~     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="tag">
    <div class="name" (click)="collapsed = !collapsed">
        <span class="title">{{ name }}</span>
        <span class="collapse" *ngIf="!collapsed">
            <i class="fa fa-chevron-down"></i>
        </span>
        <span class="collapse" *ngIf="collapsed">
            <i class="fa fa-chevron-right"></i>
        </span>
    </div>
    <div class="room-list" *ngIf="!collapsed">
        <my-room-list-tile *ngFor="let room of filteredRooms()"
                           [room]="room"
                           [isActive]="activeRoom && activeRoom.roomId === room.roomId"
        ></my-room-list-tile>
        <div class="more-rooms" *ngIf="numHidden > 0" (click)="fullList = true">
            <span>
                {{ numHidden }} more room{{numHidden !== 1 ? "s" : ""}}
                <i class="fa fa-chevron-down"></i>
            </span>
        </div>
        <div class="more-rooms" *ngIf="numExtraShown > 0" (click)="fullList = false">
            <span>
                hide {{ numExtraShown }} room{{numHidden !== 1 ? "s" : ""}}
                <i class="fa fa-chevron-up"></i>
            </span>
        </div>
    </div>
</div>